doctype html
html
  head
    title= title
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")

    // Bootstrap CSS
    link(
      rel="stylesheet", 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    )
    
    // Voeg een beetje eigen styling toe voor de knoppen
    style.
      .nav-item .btn {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        font-weight: 400;
        border-radius: 0.25rem;
      }
      .nav-item:not(:last-child) {
        margin-right: 0.5rem;
      }

  // Voeg de Bootstrap Flexbox klassen toe aan de body
  body.d-flex.flex-column.min-vh-100
    // Navbar bovenaan
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark.mb-4
      .container-fluid
        a.navbar-brand(href="/") Sakila Database App
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.ms-auto.align-items-lg-center
            li.nav-item
              a.nav-link(href="/") Home
            li.nav-item
              a.nav-link(href="/movies") Movies
            // Toon "Favorites" link alleen als gebruiker is ingelogd
            if isLoggedIn
              li.nav-item
                a.nav-link(href="/favorites") Favorites
            li.nav-item
              a.nav-link(href="/about") About
            
            // Toon inlog- en registratieknoppen OF de uitlogknop
            if !isLoggedIn
              li.nav-item
                a.btn.btn-outline-primary(href="/auth/login") Log in
              li.nav-item
                a.btn.btn-primary(href="/auth/register") Register
            else
              li.nav-item
                a.btn.btn-danger(href="/auth/logout") Log out

    // De main-content container.
    // flex-grow-1 zorgt ervoor dat deze container de resterende ruimte inneemt.
    main.container-fluid.flex-grow-1.p-5
      // Toon succesberichten
      if success_msg && success_msg.length > 0
        .alert.alert-success.alert-dismissible.fade.show(role='alert')
          = success_msg
          button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')

      // Toon foutberichten
      if error && error.length > 0
        .alert.alert-danger.alert-dismissible.fade.show(role='alert')
          = error
          button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')
          
      block content

    // Footer
    footer.bg-dark.text-white.text-center.p-3.mt-4
      p &copy; 2025 Sakila Database App. Made by Ryan Pat.

    // Bootstrap JS
    script(
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    )